{
  "versions": [
    {
      "version": "1.6.2",
      "date": "2026-02-20",
      "changes": [
        {
          "type": "added",
          "content": "聊天室支持粘贴图片发送（Canvas 自动压缩至 800px / JPEG 70%）"
        },
        {
          "type": "added",
          "content": "聊天室消息支持 Markdown 渲染（粗体、斜体、行内代码、代码块、链接、图片）"
        },
        {
          "type": "added",
          "content": "聊天室复制支持选区感知：有选中文字时复制选区，否则复制整条消息"
        },
        {
          "type": "added",
          "content": "聊天室图片点击灯箱放大，支持上一张 / 下一张切换与键盘 ← → Esc 导航"
        },
        {
          "type": "added",
          "content": "侧边栏底部新增 GitHub 项目链接入口"
        },
        {
          "type": "fixed",
          "content": "修复聊天室页面底部多余留白（正确计算页面高度与父容器内边距）"
        },
        {
          "type": "fixed",
          "content": "修复侧边栏未读消息数统计报错（API 返回对象未正确解构）"
        }
      ]
    },
    {
      "version": "1.6.1",
      "date": "2026-02-14",
      "changes": [
        {
          "type": "added",
          "content": "Dashboard 新增「申请动态」公开页面，所有登录用户可查看脱敏后的预申请提交与审核状态"
        },
        {
          "type": "added",
          "content": "Cmd+K 快捷导航与概览页快速导航卡片同步新增「申请动态」入口"
        }
      ]
    },
    {
      "version": "1.6.0",
      "date": "2026-02-10",
      "changes": [
        {
          "type": "added",
          "content": "51.la 统计分析开关，管理端可控制第三方统计脚本加载"
        },
        {
          "type": "added",
          "content": "系统状态页新增运行时信息展示与自动刷新"
        },
        {
          "type": "added",
          "content": "LinuxDo TL3 用户自动提升管理员功能（系统设置开关控制）"
        },
        {
          "type": "added",
          "content": "LinuxDo OAuth 登录持久化 trust_level，开启开关时自动批量提升已有 TL3 用户"
        },
        {
          "type": "added",
          "content": "用户管理页新增 L站用户总数 / L站TL3管理员统计卡片，点击可筛选"
        },
        {
          "type": "added",
          "content": "用户管理页支持多选批量提升/降级用户角色（SUPER_ADMIN 专属）"
        },
        {
          "type": "added",
          "content": "用户管理页新增彻底删除功能，仅对已软删除用户可用"
        },
        {
          "type": "added",
          "content": "预申请页审核员名称可点击快速发起私信对话"
        },
        {
          "type": "added",
          "content": "已删除账户支持重新激活，再次注册时自动恢复"
        },
        {
          "type": "changed",
          "content": "邀请码改为纯文本存储，支持外部 API 验证"
        },
        {
          "type": "changed",
          "content": "Swagger 文档强制全局认证，移除用户/文章端点"
        },
        {
          "type": "fixed",
          "content": "修复 LinuxDo 自动提升管理员的健壮性：trustLevel 回退、活跃状态过滤、错误隔离"
        }
      ]
    },
    {
      "version": "1.5.0",
      "date": "2026-02-07",
      "changes": [
        {
          "type": "added",
          "content": "管理员 API Token 管理功能（系统设置 → API Token），支持创建、撤销、过期时间设置"
        },
        {
          "type": "added",
          "content": "Swagger UI API 文档页面（/api-doc），支持 Bearer Token 认证"
        },
        {
          "type": "added",
          "content": "API Token 双重认证机制，支持 Authorization: Bearer pk_... 头部认证"
        }
      ]
    },
    {
      "version": "1.4.2",
      "date": "2026-02-07",
      "changes": [
        {
          "type": "added",
          "content": "驳回后最大重新提交次数支持管理端配置（系统设置 → 安全），设为 0 表示不限制"
        },
        {
          "type": "fixed",
          "content": "修复管理端预申请列表移动端卡片布局错乱问题"
        }
      ]
    },
    {
      "version": "1.4.1",
      "date": "2026-02-04",
      "changes": [
        {
          "type": "changed",
          "content": "关闭后端中对邀请码的持久化逻辑，新增 invite code storage guard，所有写入/分配 API 在开关关闭时立即返回 410"
        },
        {
          "type": "changed",
          "content": "对审核页、管理端和查询页加入标题文案、下发提示，storage 禁用时审核不再要求邀请码也不展示导入/选择框"
        },
        {
          "type": "added",
          "content": "新增 invite code guard 与 client 版 flag，以及语言条目与错误码，保持前后端一致的关闭状态体验"
        },
        {
          "type": "changed",
          "content": "共享页改为仅保留有效性检测功能，后台发送/导入入口隐藏，检测结果最多支持 5 条"
        },
        {
          "type": "added",
          "content": "新增人工发码记录面板，可填写备注与接收对象，记录会写入审计日志便于对账"
        },
        {
          "type": "changed",
          "content": "共享页只保留有效性检测，并在 storage 关闭时提示前往仪表盘的人工发码日志。"
        },
        {
          "type": "changed",
          "content": "预申请页 storage 关闭时隐藏领取按钮，仅展示人工发码提示，文案同步强调管理员手动发放并记录。"
        },
        {
          "type": "changed",
          "content": "首页、FAQ 及相关词条统一表述“人工发码 + 仪表盘记录”流程。"
        }
      ]
    },
    {
      "version": "1.4.0",
      "date": "2025-02-03",
      "changes": [
        {
          "type": "added",
          "content": "聊天室智能滚动：仅当用户在底部时才自动滚动，支持新消息提示按钮"
        },
        {
          "type": "added",
          "content": "邀请码有效性检测：管理员可在后台配置外部检测 API"
        },
        {
          "type": "added",
          "content": "管理后台邀请码列表支持批量检测并显示有效性状态"
        },
        {
          "type": "added",
          "content": "检测结果自动保存到数据库，下次查看时直接显示"
        },
        {
          "type": "added",
          "content": "邀请码脱敏：非 SUPER_ADMIN 只能看到自己创建的邀请码明文"
        },
        {
          "type": "added",
          "content": "查询页面新增独立邀请码有效性检测功能，支持链接和纯码两种格式"
        },
        {
          "type": "fixed",
          "content": "修复聊天室移动端容器宽度溢出问题"
        },
        {
          "type": "changed",
          "content": "聊天室移动端使用 100dvh 优化视口高度适配"
        }
      ]
    },
    {
      "version": "1.3.0",
      "date": "2025-01-31",
      "changes": [
        {
          "type": "added",
          "content": "工单系统：用户在预申请被拒绝后可发起申诉工单"
        },
        {
          "type": "added",
          "content": "工单系统：管理员可在后台处理工单、回复消息、变更状态"
        },
        {
          "type": "added",
          "content": "公共聊天室：微信风格 UI，支持角色徽章显示"
        },
        {
          "type": "added",
          "content": "聊天室消息实时轮询更新，支持时间分组显示"
        },
        {
          "type": "added",
          "content": "聊天室支持右键回复消息、复制内容"
        },
        {
          "type": "added",
          "content": "用户可在 2 分钟内撤回自己的消息"
        },
        {
          "type": "added",
          "content": "私信功能：用户可通过聊天室右键管理员消息发起私聊"
        },
        {
          "type": "added",
          "content": "管理员可撤回任意用户的消息"
        }
      ]
    },
    {
      "version": "1.2.0",
      "date": "2025-01-28",
      "changes": [
        {
          "type": "added",
          "content": "注册页面支持教育邮箱 @*.edu.cn，并新增使用说明提示"
        },
        {
          "type": "added",
          "content": "管理后台预申请列表新增审核人列"
        },
        {
          "type": "added",
          "content": "管理后台邀请码列表新增提交人列"
        },
        {
          "type": "fixed",
          "content": "修复管理后台邀请码统计遗漏已删除记录过滤条件的问题"
        },
        {
          "type": "added",
          "content": "新增 Linux.do OAuth 登录支持，可直接登录、绑定现有账号或创建新用户"
        },
        {
          "type": "changed",
          "content": "贡献邀请码功能仅对绑定 Linux.do 账号的用户开放"
        },
        {
          "type": "added",
          "content": "管理后台新增系统状态监控页面，实时检测各依赖服务健康状态"
        },
        {
          "type": "added",
          "content": "增强 /api/health 接口，返回数据库、Redis、邮件、OAuth 等服务状态"
        },
        {
          "type": "added",
          "content": "控制台首页新增贡献邀请码与设置的快速导航"
        },
        {
          "type": "added",
          "content": "控制台侧边栏与快捷菜单新增设置页入口（⌘5）"
        },
        {
          "type": "added",
          "content": "普通用户可在设置页申请成为管理员"
        },
        {
          "type": "added",
          "content": "发送验证码需先通过 Cloudflare Turnstile 人机验证"
        },
        {
          "type": "changed",
          "content": "首页统计指标展示可用邀请码数量（排除已使用和已过期）"
        },
        {
          "type": "changed",
          "content": "贡献邀请码时检测已存在的邀请码并提示错误"
        },
        {
          "type": "changed",
          "content": "预申请审核后邮件发送失败时向管理员显示详细错误信息"
        },
        {
          "type": "added",
          "content": "贡献邀请码页面支持向指定用户发送邀请码，同时发送站内信和邮件通知"
        },
        {
          "type": "added",
          "content": "贡献邀请码页面支持分页浏览"
        },
        {
          "type": "added",
          "content": "站内信支持软删除，用户可删除不需要的消息"
        },
        {
          "type": "added",
          "content": "站内信列表支持分页"
        },
        {
          "type": "added",
          "content": "管理员申请限制为每用户仅一次，申请通知发送给所有管理员"
        },
        {
          "type": "added",
          "content": "管理员申请同时发送邮件通知"
        },
        {
          "type": "changed",
          "content": "贡献邀请码时必须填写有效期，默认 23 小时"
        },
        {
          "type": "changed",
          "content": "更新日志页面对所有用户可见"
        }
      ]
    },
    {
      "version": "1.1.0",
      "date": "2025-01-27",
      "changes": [
        {
          "type": "added",
          "content": "支持审核通过但不发放邀请码（适用于缺码场景）"
        },
        {
          "type": "added",
          "content": "用户可在申请页面自行领取邀请码，优先领取最近过期的有效码"
        },
        {
          "type": "added",
          "content": "管理后台新增更新日志页面"
        },
        {
          "type": "added",
          "content": "设置页面新增「通过无码模板」配置，支持自定义审核通过但无码时的指导意见"
        },
        {
          "type": "changed",
          "content": "管理员审核通过时邀请码改为可选"
        },
        {
          "type": "changed",
          "content": "站内信通知支持无码通过场景，提示用户稍后领取"
        },
        {
          "type": "changed",
          "content": "审核页面根据是否选择邀请码自动切换模板"
        },
        {
          "type": "added",
          "content": "用户可贡献邀请码（单条或批量）"
        },
        {
          "type": "added",
          "content": "用户可删除自己贡献的未使用邀请码"
        },
        {
          "type": "added",
          "content": "删除限制：已使用/已分配/已领取的邀请码会显示详细信息"
        },
        {
          "type": "changed",
          "content": "控制台侧边栏新增「贡献邀请码」入口"
        }
      ]
    },
    {
      "version": "1.0.0",
      "date": "2025-01-20",
      "changes": [
        {
          "type": "added",
          "content": "预申请系统上线"
        },
        {
          "type": "added",
          "content": "邀请码管理功能"
        },
        {
          "type": "added",
          "content": "站内信系统"
        },
        {
          "type": "added",
          "content": "AI 预审检测"
        },
        {
          "type": "added",
          "content": "多语言支持（中/英）"
        },
        {
          "type": "added",
          "content": "深色模式支持"
        }
      ]
    }
  ]
}
